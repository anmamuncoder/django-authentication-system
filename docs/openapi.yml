# https://editor.swagger.io/

openapi: 3.0.4
info:
  title: Inventory APPs - Expanded Version
  version: 1.0.12
  description: >
    Fully expanded OpenAPI specification for the Petstore API.  
    This version includes `components.schemas` but does not use `$ref:` anywhere.

servers:
  - url: https://github.com/anmamun0/django-authentication-system/

tags:
  - name: Authentication
    description: Endpoints related to user authentication and token management.
  - name: Forgot_Password
    description: Endpoints for handling user password reset via OTP verification.
  - name: User_Profile
    description: Endpoints for retrieving and managing authenticated user profiles.
  - name: Category
    description: Endpoints for managing product categories.
  - name: Inventory
    description: Endpoints for managing inventory and stock records.
  - name: ShareMe
    description: Endpoints for managing inventory and stock records.
  - name: Websocket
    description: Endpoints for managing inventory and stock records.
  - name: GraphQL
    description: GraphQL for managing inventory and stock records.


paths:
  # ------------------Auth-------------------
  /auth/register/:
    post:
      tags: [Authentication]
      summary: Registrations
      description: Get data 
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username: {type: string,example: anmamun0}
                email: {type: string,example: example@gmail.com}
                first_name: {type: string,example: AN Mamun }
                password: {type: password,example: Password123!}
      responses:
        '200':
          description: Successful Created User Data
          content:
            application/json:
              schema:
                type: object 
                properties:
                  access: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
                  otp: {type: string , example: Updated. OTP has been sent to your email for verification.}  
  /auth/login/:
    post:
        tags: [Authentication]
        summary: Login
        description: Post Data login
        requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  username: {type: string,example: anmamun0} 
                  password: {type: password,example: Password123!}
        responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    refresh: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
                    access: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
  /auth/login/refresh/:
    post:
        tags: [Authentication]
        summary: Refresh access token
        description:  Generates a new access token using a valid refresh token.
        requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  refresh: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
        responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    access: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}

  /auth/email/verify/request/:
    post:
      tags: [Authentication]
      summary: Verify email request for otp
      description: Confirms and verifies the user's email address.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    email: {type: string, example: example@gmail.com}
                    
  /auth/email/verify/conform/:
    post:
      tags: [Authentication]
      summary: Verify email confirmation
      description: Confirms and verifies the user's email address.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    email: {type: string, example: example@gmail.com}
                    otp: {type: string, example: 123456}
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    detail: {type: string, example: OTP verified successfully}
  /auth/password/change/:
    post:
      tags: [Authentication]
      summary: Change user password
      description: Allows the authenticated user to change their current password.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    old_password: {type: string, example: OldPassword!123}
                    new_password: {type: string, example: NewPassword!123}
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    detail: {type: string, example: Password changed successfully}
                    

# Forgot-Password ------------
  /auth/password/forgot/otp/request/:
    post:
      tags: [Forgot_Password]
      summary: Send OTP for password reset
      description: Sends a one-time password (OTP) to the users registered email for password reset.
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    email: {type: string, example: example@gmail.com} 
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    detail: {type: string, example: OTP sent to email}
            
  /auth/password/forgot/otp/conform/:
    post:
      tags: [Forgot_Password]
      summary: Verify password reset OTP
      description: Verifies the OTP sent to the user's email before allowing password reset.
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    email: {type: string, example: example@gmail.com} 
                    otp: {type: string, example: 123456}
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    refresh: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
                    access: {type: string,example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYzNDU4NjAxLCJpYXQiOjE3NjI4NTM4MDEsImp0aSI6IjYzMDkzZmE4NDQ5OTQ5N2JhMmZjZmFjN2E3ZjU2YTdjIiwidXNlcm5hbWUiOiJhZG1pbjIifQ.4IOwx_VK6RkoNG-njQAy_40ePeKc46-hzFiQw8tU2Vg}
            
  /auth/password/forgot/reset/:
    post:
      tags: [Forgot_Password]
      summary: Reset user password
      description: Resets the users password after successful OTP verification.
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                    email: {type: string, example: example@gmail.com} 
                    otp: {type: string, example: 123456}
                    new_password: {type: string, example: NewPassword!123}
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    detail: {type: string, example: Password reset successful}
            

# User_Profile ------------
  
  /auth/profile/:
    get:
      tags: [User_Profile]
      summary: Retrieve user profile
      description: Fetches the authenticated user's profile information.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>" 
      responses:
          '200':
            description: HTTP 200 OK 
            content:
              application/json:
                schema:
                  type: object 
                  properties:
                    username: {type: string, example: example@gmail.com} 
                    first_name: {type: string, example: Jaki}
                    last_name: {type: string, example: Billah}
                    email: {type: string, example: 123456}
                    phone_number: {type: string, example: +8801700 000000}
                    photo: {type: file, example: file}           
    put:
      tags: [User_Profile]
      summary: Update user profile
      description: Updates the authenticated user's full profile details.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  username: {type: string, example: example@gmail.com} 
                  first_name: {type: string, example: Jaki}
                  last_name: {type: string, example: Billah}
                  email: {type: string, example: 123456}
                  phone_number: {type: string, example: +8801700 000000}
                  photo: {type: file, example: file}
      responses:
        '200':
          description: HTTP 200 OK 
          content:
            application/json:
              schema:
                type: object 
                properties:
                  username: {type: string, example: example@gmail.com} 
                  first_name: {type: string, example: Jaki}
                  last_name: {type: string, example: Billah}
                  email: {type: string, example: 123456}
                  phone_number: {type: string, example: +8801700 000000}
                  photo: {type: file, example: file}
    patch:
      tags: [User_Profile]
      summary: Partially update user profile
      description: Updates specific fields of the authenticated user's profile.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  username: {type: string, example: example@gmail.com} 
                  first_name: {type: string, example: Jaki}
                  last_name: {type: string, example: Billah}
                  email: {type: string, example: 123456}
                  phone_number: {type: string, example: +8801700 000000}
                  photo: {type: file, example: file}
      responses:
        '200':
          description: HTTP 200 OK 
          content:
            application/json:
              schema:
                type: object 
                properties:
                  username: {type: string, example: example@gmail.com} 
                  first_name: {type: string, example: Jaki}
                  last_name: {type: string, example: Billah}
                  email: {type: string, example: 123456}
                  phone_number: {type: string, example: +8801700 000000}
                  photo: {type: file, example: file}  
    delete:
      tags: [User_Profile]
      summary: Delete user profile
      description: Deletes the authenticated user's profile permanently.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"  
      responses:
        '204':
          description: HTTP 204 NO_CONTENT
          content:
            application/json:
              schema:
                type: object 
                properties:
                  detail:: {type: string, example: No content available}  
 

  # ---------------- Category ---------------
  /category:
    get:
      tags: [Category]
      summary: Get all categories
      description: Retrieve a list of categories
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 10
                    user:
                      type: string
                      format: uuid
                      example: 661c05cc-4041-4248-8cbf-fd00c18473f7
                    name:
                      type: string
                      example: "Electronic"
                    created_at:
                      type: string
                      example: "2025-11-09T12:00:00Z"
        '500':
          description: Server error

    post:
      tags: [Category]
      summary: Add a new category
      operationId: addCategory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Electronic"
      responses:
        '201':
          description: Category created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 10
                  user:
                    type: string
                    format: uuid
                    example: 661c05cc-4041-4248-8cbf-fd00c18473f7
                  name:
                    type: string
                    example: "Electronic"
                  created_at:
                    type: string
                    example: "2025-11-09T12:00:00Z"
        '400':
          description: Invalid input

  /category/{id}:
    parameters:
      - name: id
        in: path
        required: true
        description: Category ID
        schema:
          type: integer
          example: 1
    put:
      tags: [Category]
      summary: Update an existing category
      operationId: updateCategory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Updated Electronic"
      responses:
        '200':
          description: Category updated
        '404':
          description: Category not found

    patch:
      tags: [Category]
      summary: Partially update a category
      operationId: partialUpdateCategory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Partially Updated Electronic"
      responses:
        '200':
          description: Category partially updated
        '404':
          description: Category not found

    delete:
      tags: [Category]
      summary: Delete a category
      operationId: deleteCategory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Category deleted
        '404':
          description: Category not found

# ---------------- Inventory ----------------
  /inventory:
    get:
      tags: [Inventory]
      summary: Retrieve inventory items
      operationId: getInventory
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
      responses:
        '200':
          description: Successful response with inventory item list
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      example: "Laptop"
                    category:
                      type: string
                      example: "Electronic"
                    priority:
                      type: string
                      enum: [High, Medium, Low]
                      example: High
                    number:
                      type: integer
                      example: 10
        '401':
          description: Unauthorized â€“ Invalid or missing token
        '500':
          description: Internal server error


    post:
      tags: [Inventory]
      summary: Create inventory item
      operationId: addInventory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Laptop"
                category:
                  type: string
                  example: "Electronic"
                priority:
                  type: string
                  enum: [High, Medium, Low]
                  example: High
                number:
                  type: integer
                  example: 10
      responses:
        '201':
          description: Inventory item created
        '400':
          description: Invalid input

  /inventory/{id}: 
    parameters:
      - name: id
        in: path
        required: true
        description: Inventory ID
        schema:
          type: integer
          example: 1
    put:
      tags: [Inventory]
      summary: Fully update an inventory item
      operationId: updateInventory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Laptop Updated"
                category:
                  type: string
                  example: "Electronic"
                priority:
                  type: string
                  enum: [High, Medium, Low]
                  example: Medium
                number:
                  type: integer
                  example: 15
      responses:
        '200':
          description: Inventory item updated
        '404':
          description: Inventory item not found

    patch:
      tags: [Inventory]
      summary: Partially update an inventory item
      operationId: partialUpdateInventory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                priority:
                  type: string
                  enum: [High, Medium, Low]
                  example: Low
      responses:
        '200':
          description: Inventory item partially updated
        '404':
          description: Inventory item not found

    delete:
      tags: [Inventory]
      summary: Delete an inventory item
      operationId: deleteInventory
      parameters:
        - name: Authorization
          in: header
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Inventory item deleted
        '404':
          description: Inventory item not found





# -----------------Share Me -------------------------

  /share/inventory/:
    get:
      tags:
        - ShareMe
      summary: List all shared connections of the authenticated user
      description: Retrieve a list of all users that the authenticated user has shared inventory with.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      responses:
        '200':
          description: List of shared connections
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ShareWith'

    post:
      tags:
        - ShareMe
      summary: Create a shared connection
      description: Share inventory with another user. The authenticated user becomes the owner.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - shared_user
              properties: 
                shared_user: {type: string, example: username, description: username of the user to share inventory with} 
       
      responses:
        '201':
          description: Shared connection created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShareWith'
        '400':
          description: Invalid input / already shared

  /share/inventory/{id}/:
    parameters:
      - name: id
        in: path
        required: true
        description: Inventory ID
        schema:
          type: integer
          example: 1
    get:
      tags:
        - ShareMe
      summary: Retrieve a shared connection
      description: Retrieve details of a specific shared connection by its ID.
      security:
        - bearerAuth: []
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      
      responses:
        '200':
          description: Shared connection details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShareWith'
        '404':
          description: Shared connection not found
 
    

    delete:
      tags:
        - ShareMe
      summary: Delete a shared connection
      description: Remove a shared connection. Only the owner can delete.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid 
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "Bearer <token>"
      responses:
        '204':
          description: Shared connection deleted successfully
        '403':
          description: Not allowed / permission denied
        '404':
          description: Shared connection not found

 



# ----------------- WebSocket -------------------------
 
  /ws/inventories/{username}/:
    get:
      tags:
        - Websocket
      summary: Connect to Inventory WebSocket for a specific user
      description: |
        Connect to the WebSocket to receive real-time inventory updates. 
        Requires a valid JWT Bearer token in the `Authorization` header during connection.

        ### Events
        - `initial`: Sent once after connection. Contains all inventories visible to the user.
        - `create`: Sent when a new inventory is created.
        - `update`: Sent when an existing inventory is updated.
        - `delete`: Sent when an inventory is deleted.
        - `error` : When the username does not exist or user cannot access inventories.

      parameters:
        - name: username
          in: path
          required: true
          schema:
            type: string
          description: Username of the user whose inventory will be streamed.

      security:
        - bearerAuth: []

      responses:
        '101':
          description: WebSocket connection successfully established
          content:
            application/json:
              examples:
                initial_event:
                  summary: Initial inventory data
                  value:
                    type: "initial_data"
                    event: "initial"
                    inventories:
                      - id: "52d37c63-7607-4208-a261-24b626f008a8"
                        name: "A"
                        priority: "High"
                        number: 5
                        user: "admin"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                      - id: "751a58fc-bfa8-4d6a-9dd7-5cbdb23f8080"
                        name: "B"
                        priority: "High"
                        number: 5
                        user: "admin1"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                    server_time: "2025-11-19 12:00:00"

                create_event:
                  summary: New inventory created
                  value:
                    type: "inventory_event"
                    event: "create"
                    inventories:
                      - id: "52d37c63-7607-4208-a261-24b626f008a8"
                        name: "A"
                        priority: "High"
                        number: 5
                        user: "admin"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                      - id: "751a58fc-bfa8-4d6a-9dd7-5cbdb23f8080"
                        name: "B"
                        priority: "High"
                        number: 5
                        user: "admin1"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                      - id: "a1b2c3d4-5678-9101-1121-314151617181"
                        name: "C"
                        priority: "Medium"
                        number: 5
                        user: "admin1"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                    server_time: "2025-11-19 12:05:00"

                update_event:
                  summary: Inventory updated
                  value:
                    type: "inventory_event"
                    event: "update"
                    inventories:
                      - id: "52d37c63-7607-4208-a261-24b626f008a8"
                        name: "A+"
                        priority: "High"
                        number: 5
                        user: "admin"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                    server_time: "2025-11-19 12:10:00"

                delete_event:
                  summary: Inventory deleted
                  value:
                    type: "inventory_event"
                    event: "delete"
                    inventories:
                      - id: "751a58fc-bfa8-4d6a-9dd7-5cbdb23f8080"
                        name: "B"
                        priority: "High"
                        number: 5
                        user: "admin1"
                        category: "Electronics"
                        created_at: "2025-11-19 12:00:00"
                    server_time: "2025-11-19 12:15:00"

                error_event:
                  summary: Error when wrong username is provided
                  value:
                    event: "error"
                    message: "User with username 'admin69' does not exist."
                    server_time: "2025-11-22 16:30:29"

# ----------------- GraphQL -------------------------
 
  /api/graphql/:
    get:
      tags:
        - GraphQL
      summary: List all shared connections of the authenticated user
      description: |
        GraphQL API for Subscription and Transaction Management.
        Requires a valid JWT Bearer token in the `Authorization` header for authenticated queries and mutations.

        ### Queries
        - `subscriptionPlans`: Fetch all active subscription plans.
        - `userSubscriptions`: Fetch all subscriptions of the authenticated user.
        - `transaction`: Fetch all transactions of the authenticated user.

        ### Mutations
        - `createTransaction`: Create a new transaction for a subscription plan of the authenticated user.
        - `tokenAuth`: Obtain a JWT token by providing username and password.
        - `verifyToken`: Verify an existing JWT token.
        - `refreshToken`: Refresh an existing JWT token.
      parameters:
        - name: Authorization
          in: header
          required: true
          description: Bearer token for authentication
          schema:
            type: string
            example: "JWT <token>"
      responses:
        '200':
          description: List of shared connections 
 
components:
  schemas:
    User:
      type: object
      properties:
        id: {type: string, example: <token>}  
        username: {type: string, example: example@gmail.com} 
        first_name: {type: string, example: Jaki}
        last_name: {type: string, example: Billah}
        email: {type: string, example: 123456}
        phone_number: {type: string, example: +8801700 000000}
        photo: {type: file, example: file}   

    Category:
      type: object
      properties:
        id:
          type: string
          example: <token>
        user:
          type: string
          format: uuid
          example: 661c05cc-4041-4248-8cbf-fd00c18473f7
        name:
          type: string
          example: "Electronic"
        created_at:
          type: string
          example: "2025-11-09T12:00:00Z"

    Inventory:
      type: object
      properties:
        id:
          type: integer
          example: 1
        user:
          type: string
          format: uuid
          example: 661c05cc-4041-4248-8cbf-fd00c18473f7
        name:
          type: string
          example: "Laptop"
        category:
          type: string
          example: "Electronic"
        priority:
          type: string
          enum: [High, Medium, Low]
          example: High
        number:
          type: integer
          example: 10
        date:
          type: string
          example: "2025-11-09" 
   
    ShareWith:
      type: object
      properties:
        id:
          type: string
          format: uuid 
        shared_user:
          type: string
        created_at:
          type: string
          format: date-time

    InventoryEvent:
      type: object
      properties:
        type:
          type: string
          enum: [initial_data, inventory_event]
          description: Type of message sent by the server
        event:
          type: string
          enum: [initial, create, update, delete]
          description: Specific event action
        inventories:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Inventory UUID
              name:
                type: string
                description: Inventory name
              priority:
                type: string
                description: Inventory priority
              number:
                type: integer
                description: Inventory number
              user:
                type: string
                description: Owner of the inventory
              category:
                type: string
                description: Inventory category
              created_at:
                type: string
                description: Inventory created timestamp
        server_time:
          type: string
          format: date-time
          description: Timestamp added by the server
      required:
        - type
        - event
        - inventories
        - server_time




